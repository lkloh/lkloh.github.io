<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Things I Should Know</title>
  <meta name="description" content="but somehow only just learnt">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/">
  <link rel="alternate" type="application/rss+xml" title="Things I Should Know" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Things I Should Know</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- This loops through the paginated posts -->

  <h1><a href="/2017/10/07/eventlet-hates-django.html">Eventlet hates Threading</a></h1>
  <p class="author">
    <span class="date">2017-10-07 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>Python’s threading library makes use of the system’s native OS to schedule threads.
It make use of Python’s global interpreter lock to make sure
shared data structures are accessed by only one thread at a time
to avoid race conditions.</p>

<p>Eventlet is made of greenthreads, which are different from normal threads.
The cooperatively yield to each other instead of being schedule by the OS.
This is to ensure shared data structures don’t need locks.
This means a yield function must be explicitly called before another
green thread can access the shared data structure.
Since the OS doesn’t need to schedule threads,
greenthreads are very cheap to deploy.</p>

<p>But you have to be careful when mixing greenthreads with system threads.
If a system thread is running, 
then it never calls the “yield” function. 
Then a greenthread may wait forever for a system thread to call “yield”,
but the system thread will never do that,
because it expects the OS to schedule it for that.</p>

<p>It’s lead to a large application written in Django that uses eventlet 
to deadlock and stall completely in the past.</p>

<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">eventlet</span>
<span class="n">eventlet</span><span class="o">.</span><span class="n">monkey_patch</span><span class="p">(</span><span class="n">os</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">socket</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">eventlet.greenpool</span> <span class="kn">import</span> <span class="n">GreenPool</span><span class="p">,</span> <span class="n">GreenPile</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">do_large_computation</span><span class="p">():</span>
	<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000000</span><span class="p">):</span>
		<span class="n">s</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
	<span class="k">print</span> <span class="n">s</span>

<span class="k">def</span> <span class="nf">wait_forever</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'wait_forever'</span>
	<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
		<span class="k">print</span> <span class="s">'hi'</span>
		<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">use_eventlet</span><span class="p">():</span>
	<span class="n">pool</span> <span class="o">=</span> <span class="n">GreenPool</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
	<span class="n">pile</span> <span class="o">=</span> <span class="n">GreenPile</span><span class="p">(</span><span class="n">pool</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
		<span class="n">pile</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">do_large_computation</span><span class="p">)</span>
	<span class="k">print</span> <span class="n">pile</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">use_threads</span><span class="p">():</span>
	<span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
	    <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">wait_forever</span><span class="p">)</span>
	    <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
	    <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
	<span class="n">use_threads</span><span class="p">()</span>
	<span class="n">use_eventlet</span><span class="p">()</span>
</code></pre>
</div>

  </div>

  <h1><a href="/2017/10/06/strict-mode.html">JavaScript Strict Mode</a></h1>
  <p class="author">
    <span class="date">2017-10-06 00:00:00 -0700</span>
  </p>
  <div class="content">
    <div class="highlighter-rouge"><pre class="highlight"><code>"use strict";
</code></pre>
</div>

<p>What is <a href="">strict mode</a>?</p>
<ul>
  <li>Introduced in EC5 (c. 2009)</li>
  <li>Prevents some poorly designed features from being used</li>
  <li>Throws more exceptions - blocks some unsafe actions: fail fast and loudly</li>
  <li>Strict mode is not a subset of javascript, but has different semantics from normal code</li>
  <li>Supported in all major browser (except IE9 and below)</li>
</ul>

<p>Read more from <a href="https://www.nczonline.net/blog/2012/03/13/its-time-to-start-using-javascript-strict-mode/">here</a>.</p>

<h2 id="no-global-variables">No global variables</h2>

<ul>
  <li>Strict: All variables must be declared</li>
  <li>Non strict: Assigning values to an undeclared variable makes it a global variable</li>
</ul>

<h2 id="unique-properties-in-objectsfunctions">Unique properties in objects/functions</h2>

<p>This throws a syntax error</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="s2">"use strict"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">foo</span><span class="p">:</span> <span class="err">`</span><span class="nx">bar</span><span class="err">`</span><span class="p">,</span>
    <span class="na">foo</span><span class="p">:</span> <span class="err">`</span><span class="nx">bar</span><span class="err">`</span><span class="p">.</span>
<span class="p">}</span>
</code></pre>
</div>

<p>No error</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">foo</span><span class="p">:</span> <span class="err">`</span><span class="nx">bar</span><span class="err">`</span><span class="p">,</span>
    <span class="na">foo</span><span class="p">:</span> <span class="err">`</span><span class="nx">bar</span><span class="err">`</span><span class="p">.</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="eval-is-safer">Eval is safer</h2>

<p>Throws error</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="s2">"use strict"</span><span class="p">;</span>

<span class="nb">eval</span><span class="p">(</span><span class="s2">"var x = 10;"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
</code></pre>
</div>

<p>No error</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nb">eval</span><span class="p">(</span><span class="s2">"var x = 10;"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="best-practices">Best practices</h2>

<p><code class="highlighter-rouge">"use strict";</code> in functions only, not global context when dealing with large codebases
that were developed over many years.</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">myFunc</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="c1">// do stuff</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Start using it in new stuff that is being built out,
to help avoid more errors/unsafe practices.</p>


  </div>

  <h1><a href="/2017/10/05/test-suites-python.html">Python Test Suites</a></h1>
  <p class="author">
    <span class="date">2017-10-05 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>How to run the same tests bundled in a class under different environments:</p>

<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">patch</span>

<span class="k">class</span> <span class="nc">TestPatchClass</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_three</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
</code></pre>
</div>

<p>Run the suite under a patch,</p>
<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="c"># unittest.TextTestRunner().run(unittest.makeSuite(TestPatchClass))</span>

    <span class="k">with</span> <span class="n">patch</span><span class="o">.</span><span class="nb">object</span><span class="p">(</span><span class="n">random</span><span class="p">,</span> <span class="s">'random'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_random</span><span class="p">:</span>
        <span class="n">mock_random</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">makeSuite</span><span class="p">(</span><span class="n">TestPatchClass</span><span class="p">))</span>

    <span class="k">with</span> <span class="n">patch</span><span class="o">.</span><span class="nb">object</span><span class="p">(</span><span class="n">random</span><span class="p">,</span> <span class="s">'random'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_random</span><span class="p">:</span>
        <span class="n">mock_random</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">0.7</span>
        <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">makeSuite</span><span class="p">(</span><span class="n">TestPatchClass</span><span class="p">))</span>
</code></pre>
</div>

  </div>

  <h1><a href="/2017/10/05/get-whitelisted-by-ablockers.html">Get whitelisted by AdBlockers</a></h1>
  <p class="author">
    <span class="date">2017-10-05 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>Some adblockers whitelist trackers if they comply with Do Not Track (DNT)
<a href="https://www.eff.org/dnt-policy">completely</a>.
A DNT user does not want a domain he visits to know/remember anything about him.</p>

<p>Or pay <a href="https://arstechnica.com/information-technology/2015/02/over-300-businesses-now-whitelisted-on-adblock-plus-10-pay-to-play/">AdBlock Plus</a> to whitelist you.
You’ll probably have to 
<a href="https://adblockplus.org/acceptable-ads#application">comply</a>
with certain policies.</p>


  </div>

  <h1><a href="/2017/10/04/patching-random.html">Patching random</a></h1>
  <p class="author">
    <span class="date">2017-10-04 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>You can patch the random library to make it always return the same value like this.
There are two obvious ways to do it:</p>

<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">patch</span>

<span class="nd">@patch.object</span><span class="p">(</span><span class="n">random</span><span class="p">,</span> <span class="s">'random'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_random_float_patch_object</span><span class="p">(</span><span class="n">mock_random</span><span class="p">):</span>
	<span class="n">mock_random</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">0.7</span>
	<span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

<span class="nd">@patch</span><span class="p">(</span><span class="s">'random.random'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_random_float_patch</span><span class="p">(</span><span class="n">mock_random</span><span class="p">):</span>
	<span class="n">mock_random</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">0.5</span>
	<span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
	<span class="n">get_random_float_patch</span><span class="p">()</span>
	<span class="n">get_random_float_patch_object</span><span class="p">()</span>
</code></pre>
</div>

<p>Read more <a href="https://stackoverflow.com/questions/18191275/using-pythons-mock-patch-object-to-change-the-return-value-of-a-method-called-w">here</a>.</p>

<p>If you’re patching more than one function, you have to do it in reverse order:</p>
<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">patch</span>

<span class="nd">@patch.object</span><span class="p">(</span><span class="n">math</span><span class="p">,</span> <span class="s">'cos'</span><span class="p">)</span>
<span class="nd">@patch.object</span><span class="p">(</span><span class="n">random</span><span class="p">,</span> <span class="s">'random'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">patch_order</span><span class="p">(</span><span class="n">mock_random</span><span class="p">,</span> <span class="n">mock_math</span><span class="p">):</span>
	<span class="n">mock_random</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">0.7</span>
	<span class="n">mock_math</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="c"># -1 &lt;= cos(x) &lt;= 1 in practice</span>
	<span class="k">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
	<span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
	<span class="n">patch_order</span><span class="p">()</span>
</code></pre>
</div>


  </div>

  <h1><a href="/2017/10/03/what-is-random-copy.html">What is random enough?</a></h1>
  <p class="author">
    <span class="date">2017-10-03 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>The <a href="https://docs.python.org/2/library/random.html">random library</a> generates
pseudorandom numbers based on the basic function 
<a href="https://docs.python.org/2/library/random.html#random.random">random()</a>.
It uses the Mersenne Twister to generate random numbers,
which well enough for most uses cases, 
but NOT for security purposes as it is deterministic.</p>

<p>If you need something cryptographically secure,
you’re supposed to use <code class="highlighter-rouge">os.urandom()</code> or <code class="highlighter-rouge">SystemRandom</code>,
which relies OS to generate random numbers.
How “random” this is depends on the specific OS you are using.</p>


  </div>

  <h1><a href="/2017/10/02/how-many-greenthreads.html">How many greenthreads should you allocate?</a></h1>
  <p class="author">
    <span class="date">2017-10-02 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>Not too many!</p>

<p>You should probably allocate more than you strictly needed,
since that gives some leeway for extra concurrent work to be done
by putting more threads to work.</p>

<p>In the example below, only 2 threads are technically needed,
by the example with 20 allowable threads runs consistently faster.</p>

<div class="language-py highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">eventlet</span>
<span class="n">eventlet</span><span class="o">.</span><span class="n">monkey_patch</span><span class="p">(</span><span class="n">os</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">socket</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">default_timer</span> <span class="k">as</span> <span class="n">timer</span>

<span class="k">def</span> <span class="nf">time_taken</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">inner_func</span><span class="p">():</span>
		<span class="n">start</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
		<span class="n">func</span><span class="p">()</span>
		<span class="n">end</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
		<span class="k">print</span> <span class="s">"</span><span class="si">%</span><span class="s">s time: </span><span class="si">%</span><span class="s">f </span><span class="se">\n\n</span><span class="s">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">inner_func</span>

<span class="k">def</span> <span class="nf">sum_numbers</span><span class="p">():</span>
	<span class="n">s</span> <span class="o">=</span> <span class="mf">0.0</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">):</span>
		<span class="n">s</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">s</span>

<span class="nd">@time_taken</span>
<span class="k">def</span> <span class="nf">limited_threads</span><span class="p">():</span>
	<span class="n">pile</span> <span class="o">=</span> <span class="n">eventlet</span><span class="o">.</span><span class="n">GreenPile</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
	<span class="n">pile</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">sum_numbers</span><span class="p">)</span>
	<span class="n">pile</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">sum_numbers</span><span class="p">)</span>
	<span class="k">print</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pile</span><span class="p">]</span>

<span class="nd">@time_taken</span>
<span class="k">def</span> <span class="nf">many_threads</span><span class="p">():</span>
	<span class="n">pile</span> <span class="o">=</span> <span class="n">eventlet</span><span class="o">.</span><span class="n">GreenPile</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
	<span class="n">pile</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">sum_numbers</span><span class="p">)</span>
	<span class="n">pile</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">sum_numbers</span><span class="p">)</span>
	<span class="k">print</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pile</span><span class="p">]</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
	<span class="n">limited_threads</span><span class="p">()</span>
	<span class="n">many_threads</span><span class="p">()</span>
</code></pre>
</div>


  </div>

  <h1><a href="/2017/10/01/python-with-stmt.html">Python's WITH statement</a></h1>
  <p class="author">
    <span class="date">2017-10-01 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>The python <a href="https://www.python.org/dev/peps/pep-0343/"><code class="highlighter-rouge">with</code> statement</a>
is a way to encapsulate common <code class="highlighter-rouge">try...except...finally</code> statements for future reuse.</p>

<p>Useful when writing code that may involve error handling
or when working with files that should be closed eventually.</p>

<p>Thanks <a href="https://stackoverflow.com/questions/3012488/what-is-the-python-with-statement-designed-for">Stack Overflow</a>!</p>

  </div>

  <h1><a href="/2017/09/30/dark-traffic.html">Dark Traffic</a></h1>
  <p class="author">
    <span class="date">2017-09-30 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p><a href="https://beymour.com/dark-traffic">Dark Traffic</a> 
is when a user visits a site through a particular referral
(e.g. Facebook link),
but a site analytics tool (e.g. Google Analytics)
wrongly attributed to some other method 
(e.g. typed it directly into the browser).</p>

<p>Usually if analytics tools can’t tell how a user ended up on a webpage,
it classifics it as direct traffic (typed the URL right into the browser).
Obviously bad for advertisers and people in charge of branding as they don’t
have the right data to make decisions about how to improve visibility.</p>

<p>It’s an increasing problem because of mobile browsers/ IOT/ Amazon echo
more ways to visit a website and view its content than
just using a desktop browser.</p>

  </div>

  <h1><a href="/2017/09/29/reverting-merged-pull-request.html">Reverting a merged pull request</a></h1>
  <p class="author">
    <span class="date">2017-09-29 00:00:00 -0700</span>
  </p>
  <div class="content">
    <p>Github allows you to 
<a href="https://help.github.com/articles/reverting-a-pull-request/">revert a merged pull request</a> 
starting c.2014.
Useful when working on large projects with lots of people,
and you want to quickly undo something you merged if stuff goes wrong.</p>

<ul>
  <li>Go to the pull request on the Github website</li>
  <li>Hit revert</li>
  <li>Get a new pull request to undo the stuff you merged previously, but don’t want</li>
</ul>


  </div>


<!-- Pagination links -->
<div class="pagination">
  
    <span class="previous">Previous</span>
  
  <span class="page_number ">Page: 1 of 9</span>
  
    <a href="/page2/" class="next">Next</a>
  
</div>
      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Things I Should Know</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              LK Loh
            
            </li>
            
            <li><a href="mailto:lkloh2410@gmail.com">lkloh2410@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/lkloh"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">lkloh</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/lkloh1024"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">lkloh1024</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>but somehow only just learnt</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
